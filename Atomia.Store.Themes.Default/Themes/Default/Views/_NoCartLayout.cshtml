@{
    Layout = null;
    ViewBag.Title = Html.CommonResource("OrderPageTitle");
}

<!DOCTYPE html>

<html>

@Html.Partial("_Head")

<body>
    <header>
        <div class="margins">
            <a id="logo" href="/">Atomia</a>

            <nav id="top_menu">
                <ul id="apps"></ul>

            </nav>
            <ul class="addons">
                <li><a id="language_selector_trigger" class="submenu" href="javascript:void(0);" data-bind="click: languageSelector.toggleModal, text: languageSelector.selectedLanguage().shortName"></a></li>
            </ul>
        </div>

        @Html.Partial("_LanguageSelector")
    </header>

    <section id="main">
        <div class="margins">
            <div id="homecontent">
                <div class="settingsbox">
                    @RenderBody()
                </div>
            </div>
        </div>
    </section>

    @Html.Partial("_Footer")

    @Html.Partial("_Notification")


    @Scripts.Render("~/bundles/scripts")

    <script type="text/javascript">
    var Atomia = Atomia || {};
    Atomia.VM = Atomia.VM || {};

    Atomia.VM.languageSelector = _.extend(
        new Atomia.ViewModels.LanguageSelectorModel(),
        new Atomia.ViewModels.ModalMixin());
    Atomia.VM.languageSelector.load(@Html.JsonAction("GetLanguages", "Language"));

    Atomia.VM.notification = new Atomia.ViewModels.NotificationModel();
    Atomia.Utils.warnAjaxErrors('@Html.CommonResource("AjaxErrorTitle")', '@Html.CommonResource("AjaxErrorMessage")');
    </script>

    @RenderSection("scripts", required: false)

    <script type="text/javascript">
        AtomiaValidation.init('AtomiaRequired', 'AtomiaRegularExpression', 'AtomiaUsername', 'AtomiaUsernameRequired');

        ko.applyBindings(Atomia.VM);
    </script>
</body>
</html>
